#!/usr/bin/env bash

OPERATOR_KEY="b71c71a67e1177ad4e901695e1b4b9ee17ae16c6668d313eac2f96dbcda3f291"
KEY1="78ae75d1cd5960d87e76a69760cb451a58928eee7890780c352186d23094a115"
KEY2="bfaa65473b85b3c33b2f5ddb511f0f4ef8459213ada2920765aaac25b4fe38c5"
KEY3="067394195895a82e685b000e592f771f7899d77e87cc8c79110e53a2f0b0b8fc"
KEY4="ae03e057a5b117295db86079ba4c8505df6074cdc54eec62f2050e677e5d4e66"
KEY5="eda4515e1bc6c08e8606b51ffb6ffe70b3fe76781ed49872285e484064e3b634"
CHALLENGER_KEY="78ae75d1cd5960d87e76a69760cb451a58928eee7890780c352186d23094a114"

DATADIR=$HOME/.pls.dev
OPERATOR="0x71562b71999873DB5b286dF957af199Ec94617F7"
CHALLENGER="0x3616BE06D68dD22886505e9c2CaAa9EcA84564b8"

rm -rf $DATADIR

# dev mode default networkid is 1337
geth \
  --datadir $DATADIR \
  --miner.etherbase 0x71562b71999873DB5b286dF957af199Ec94617F7 \
  --rpc \
  --dev \
  --dev.p2p \
  --rpcaddr 0.0.0.0 \
  --rpcport 8547 \
  --port 30307 \
  --dev.key $OPERATOR_KEY,$KEY1,$KEY2,$KEY3,$KEY4,$KEY5,$CHALLENGER_KEY \
  --operator $OPERATOR \
  --tx.interval "20s" \
  --rootchain.url "ws://${ROOTCHAIN_ADDR}:8546" \
  --bootnodes "enode://401bd6383fe11a5224d5b4277b53d7c0278efed3ca685b6593935751ad1fe734a8e35d2b3ebd9d7fc6da6cff12e72cfcfca8db408bf2e49f1fad4c503956d07f@${BOOTNODE_ADDR}:30301" > log/operator_node.log
